<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Subdomain Report — {{ domain }}</title>
  <style>
    body{font-family: Arial, sans-serif; margin:24px; color:#111}
    header{border-bottom:1px solid #ddd; padding-bottom:8px; margin-bottom:12px}
    table{width:100%; border-collapse: collapse; margin-top:12px}
    th, td{padding:8px; border:1px solid #eee; text-align:left; font-size:13px}
    th{background:#f5f5f5}
    .meta{font-size:13px; color:#444}
    .badge{display:inline-block;padding:4px 8px;border-radius:6px;background:#eef; margin-right:6px}
  </style>
</head>
<body>
  <header>
    <h2>Subdomain Enumeration Report</h2>
    <div class="meta">
      <strong>Target:</strong> {{ domain }} &nbsp; | &nbsp;
      <strong>Date:</strong> {{ meta.scan_date or "" }} &nbsp; | &nbsp;
      <strong>Results:</strong> {{ meta.total or (results|length) }}
    </div>
  </header>

  <section>
    <h3>Summary</h3>
    <p>
      <span class="badge">Mode: {{ meta.mode or 'passive' }}</span>
      <span class="badge">Unique Subdomains: {{ meta.total or (results|length) }}</span>
    </p>
  </section>

  <section>
    <h3>Findings</h3>
    <table>
      <thead>
        <tr><th>#</th><th>Subdomain</th><th>IP</th><th>Source</th></tr>
      </thead>
      <tbody>
        {% for r in results %}
        <tr>
          <td>{{ loop.index }}</td>
          <td>{{ r.subdomain }}</td>
          <td>{{ r.ip or '-' }}</td>
          <td>{{ r.source or '-' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>

  <footer style="margin-top:18px; font-size:12px; color:#666">
    Generated by Subdomain_Enumeration — {{ meta.scan_date or "" }}
  </footer>
</body>
</html>
